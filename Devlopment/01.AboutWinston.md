# ğŸ§  Winston Logger Knowledge Transfer (KT)

This markdown file documents what we did to set up logging using Winston in the project. It's for future reference so you always know **what was done, why it was done, and how to reuse or update it**.

---

## ğŸ“¦ 1. Installed Required Packages

```bash
npm install winston winston-daily-rotate-file moment-timezone
```

**Purpose of each:**

* `winston`: Powerful and flexible logging library for Node.js
* `winston-daily-rotate-file`: Creates a new log file every day to prevent huge log files
* `moment-timezone`: Helps format timestamps in the Indian Standard Time (IST)

---

## ğŸ§© 2. Created Logger Utility

Created file: `utils/logger.js`

This file:

* Configures logging format
* Adds rotating file handlers for app logs and exception logs
* Ensures logs are also printed in the console (in dev)
* Sets up exception and rejection handlers

---

## â° 3. Configured IST Timestamps

Instead of UTC, logs now show time in **Asia/Kolkata (IST)**:

```js
moment().tz('Asia/Kolkata').format('YYYY-MM-DD HH:mm:ss')
```

---

## ğŸ”„ 4. Setup Daily Rotating Log Files

### App logs:

* Stored in `logs/app-%DATE%.log`
* Each file max 10 MB
* Keeps 14 days worth of logs

### Exception logs:

* Stored in `logs/exceptions-%DATE%.log`
* Each file max 5 MB
* Compressed (`.gz`)
* Keeps 30 days worth of logs

---

## ğŸš€ 5. Exported Logger for Use

You can import and use it anywhere like this:

```js
const logger = require('./utils/logger');
logger.info('Server started');
logger.error('Something broke');
```

---

## ğŸ§¹ 6. What Gets Logged?

* **logger.info()** â€” success messages, startup logs
* **logger.error()** â€” error traces, DB failures, etc.
* **Unhandled exceptions & promise rejections** go into the exceptions file automatically

---

## âœ… Summary

| Feature                  | Configured |
| ------------------------ | ---------- |
| File rotation            | âœ…          |
| Log formatting (IST)     | âœ…          |
| Console output           | âœ…          |
| Exception/rejection logs | âœ…          |
| Daily separate files     | âœ…          |

---

ğŸ—‚ You now have a clean and manageable logging setup for any production-grade Node.js backend.

ğŸ›  Want to extend later?

* Add log levels like `debug`, `warn`, etc.
* Send logs to external services (e.g., Loggly, Datadog)
* Create separate loggers per module if needed
